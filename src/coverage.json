{
  "kind": "coverage_report",
  "version": "1.0",
  "generatedAt": "2026-02-16T23:05:28.999Z",
  "sources": {
    "buildRequest": true,
    "implementationPlan": true
  },
  "requirements": {
    "total": 14,
    "implemented": 8,
    "items": [
      {
        "id": "REQ-32",
        "summary": "Implement Internet Identity–only role-based access control (RBAC) in the backend using a persisted role registry mapping Principal → Role (Admin, Mechanic, Customer, Garage Owner), and enforce it across all privileged backend methods.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-33",
        "summary": "Add a backend-managed Admin whitelist for assigning the Admin role, and expose admin-check endpoints that the frontend can use for route protection.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-34",
        "summary": "Implement a provider-agnostic internal escrow ledger system in the backend with persisted transaction records and escrow account tracking per booking.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-35",
        "summary": "Implement admin-controlled escrow actions in the backend: “Release Funds” and “Issue Refund”, including state-transition validation and auditability.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-36",
        "summary": "Enforce booking lifecycle gating in the backend so that a booking cannot be moved to Completed unless its escrow transaction is in Released state.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-37",
        "summary": "Design the payment backend interfaces to be payment-provider-agnostic so that a future Stripe Connect adapter can be added without changing booking flow or frontend UI component contracts.",
        "status": "unknown",
        "plannedFiles": [],
        "matchedFiles": []
      },
      {
        "id": "REQ-38",
        "summary": "Replace simulated payment UI with functional internal-ledger payment flow in the booking experience, including explicit “Test Mode – Internal Ledger Active” labeling and no simulated card entry.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/payments/PaymentMethodSelector.tsx",
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/backend.d.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/payments/PaymentMethodSelector.tsx",
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/backend.d.ts"
        ]
      },
      {
        "id": "REQ-39",
        "summary": "Create user-visible transaction history and booking payment status UI surfaces (per booking and per user) powered by backend queries.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/payments/TransactionHistory.tsx",
          "frontend/src/components/payments/TransactionHistoryList.tsx",
          "frontend/src/components/payments/TransactionStatusBadge.tsx",
          "frontend/src/pages/dashboards/CustomerDashboard.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/App.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/payments/TransactionHistory.tsx",
          "frontend/src/components/payments/TransactionHistoryList.tsx",
          "frontend/src/components/payments/TransactionStatusBadge.tsx",
          "frontend/src/pages/dashboards/CustomerDashboard.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/App.tsx"
        ]
      },
      {
        "id": "REQ-40",
        "summary": "Add Admin UI to view transactions and perform escrow actions (Release Funds / Issue Refund) with proper authorization handling and state refresh.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/admin/EscrowTransactions.tsx",
          "frontend/src/pages/dashboards/AdminDashboard.tsx",
          "frontend/src/components/admin/AdminRouteGuard.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/backend.d.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/admin/EscrowTransactions.tsx",
          "frontend/src/pages/dashboards/AdminDashboard.tsx",
          "frontend/src/hooks/useQueries.ts",
          "frontend/src/backend.d.ts",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ]
      },
      {
        "id": "REQ-41",
        "summary": "Implement a fully functional in-app notification system (backend + frontend) with notification types: BookingCreated, BookingConfirmed, FundsReleased, DisputeOpened, AccountSuspended.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/hooks/useNotifications.ts",
          "frontend/src/backend.d.ts",
          "frontend/src/hooks/useQueries.ts"
        ],
        "matchedFiles": [
          "frontend/src/hooks/useNotifications.ts",
          "frontend/src/backend.d.ts",
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-42",
        "summary": "Add a notification badge counter and dropdown in the top navigation that shows recent notifications and supports marking as read.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/notifications/NotificationDropdown.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/notifications/NotificationDropdown.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ]
      },
      {
        "id": "REQ-43",
        "summary": "Add a Notification Center dashboard page that lists all notifications with filtering (e.g., unread/all) and provides bulk actions (e.g., Mark all as read).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/pages/notifications/NotificationCenter.tsx",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ],
        "matchedFiles": [
          "frontend/src/pages/notifications/NotificationCenter.tsx",
          "frontend/src/App.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ]
      },
      {
        "id": "REQ-44",
        "summary": "Implement toast alerts for notification-worthy events, driven by real backend mutations and subsequent query refresh (no simulated flows and no “Coming Soon” placeholders).",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/pages/admin/EscrowTransactions.tsx",
          "frontend/src/pages/disputes/Disputes.tsx",
          "frontend/src/hooks/useQueries.ts"
        ],
        "matchedFiles": [
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/pages/admin/EscrowTransactions.tsx",
          "frontend/src/pages/disputes/Disputes.tsx",
          "frontend/src/hooks/useQueries.ts"
        ]
      },
      {
        "id": "REQ-45",
        "summary": "Remove or refactor payment/messaging/escrow-related “Coming Soon” and simulated-flow UI so the app contains no “Coming Soon” placeholders for the scopes covered here (payments and notifications), including removing simulated modals from payment selection and removing/redirecting the escrow-related Coming Soon hub entry points.",
        "status": "implemented",
        "plannedFiles": [
          "frontend/src/components/payments/PaymentMethodSelector.tsx",
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/pages/coming-soon/UnsupportedFeaturesHub.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ],
        "matchedFiles": [
          "frontend/src/components/payments/PaymentMethodSelector.tsx",
          "frontend/src/components/booking/GarageBookingModal.tsx",
          "frontend/src/pages/coming-soon/UnsupportedFeaturesHub.tsx",
          "frontend/src/components/layout/TopNav.tsx"
        ]
      }
    ]
  },
  "changedFiles": [
    "backend/main.mo",
    "backend/migration.mo",
    "build-request.json",
    "feature_evidence.json",
    "frontend-file-summaries.txt",
    "frontend-implementation-plan.json",
    "frontend/src/App.tsx",
    "frontend/src/backend.d.ts",
    "frontend/src/backend.ts",
    "frontend/src/components/booking/GarageBookingModal.tsx",
    "frontend/src/components/layout/TopNav.tsx",
    "frontend/src/components/notifications/NotificationDropdown.tsx",
    "frontend/src/components/payments/PaymentMethodSelector.tsx",
    "frontend/src/components/payments/TransactionHistoryList.tsx",
    "frontend/src/components/payments/TransactionStatusBadge.tsx",
    "frontend/src/declarations/backend.did.d.ts",
    "frontend/src/declarations/backend.did.js",
    "frontend/src/hooks/useNotifications.ts",
    "frontend/src/hooks/useQueries.ts",
    "frontend/src/lib/types.ts",
    "frontend/src/pages/admin/EscrowTransactions.tsx",
    "frontend/src/pages/coming-soon/UnsupportedFeaturesHub.tsx",
    "frontend/src/pages/dashboards/AdminDashboard.tsx",
    "frontend/src/pages/dashboards/CustomerDashboard.tsx",
    "frontend/src/pages/disputes/Disputes.tsx",
    "frontend/src/pages/garages/GarageDetail.tsx",
    "frontend/src/pages/notifications/NotificationCenter.tsx",
    "frontend/src/pages/payments/TransactionHistory.tsx",
    "project_state.json",
    "scratch/component-selection.json",
    "spec.md",
    "spec_vs_diff_report.json"
  ]
}